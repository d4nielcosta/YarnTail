{% extends 'yarntail/base.html' %}

{% load staticfiles %}

{% block body_block %}

    <div class="page-header">
        <h1>Search Results</h1>
    </div>

    <ul class="nav nav-tabs nav-justified" id="usertab" role="tablist">


        <li role="presentation">
            <a href="#patterns" aria-controls="patterns" role="tab"
               data-toggle="tab">Patterns <span class="badge">{{ num_patterns }}</span></a></li>
        <li role="presentation"><a href="#users" aria-controls="users" role="tab"
                                   data-toggle="tab">Users <span class="badge">{{ num_users }}</span></a></li>

    </ul>

    <div class="tab-content">


        <div role="tabpanel" class="tab-pane active" id="patterns" style="nopadding">
            <div>
                {% if patterns %}
                    {% for pattern in patterns %}
                        <li class="list-group-item"><a href="{{ pattern.get_absolute_url }}">{{ pattern }}</a> by
                            @{{ pattern.user }}
                            <hr>
                            <p style="color: black;">{{ pattern.description }} <br/>
                                <br/><strong>Views: {{ pattern.views }} || {{ pattern.creation_date }}</strong></p></li><br>
                    {% endfor %}
                {% else %}
                    <li class="list-group-item"> No patterns match your search.</li>
                    <br>
                {% endif %}
            </div>
        </div>


        <div role="tabpanel" class="tab-pane active" id="users" style="nopadding">

            <div>
                {% if users %}
                    {% for user in users %}

                        <li class="list-group-item">
                        <a id="float" href="{{ user.get_absolute_url }}"><strong><i>@</i></strong>{{ user }}</a>
                        <hr>
                        <p style="color: black;">

                        <strong><u>Patterns</u><br><br></strong>
                            {% for pattern in user.user.patterns.all %}
                                        <strong>{{ pattern.title }}</strong>
                                {% if not forloop.last %}|| {% endif %}
                            {% endfor %}
                        </li>
<br>

                    {% endfor %}
                {% else %}
                    <br>
                    <li class="list-group-item"> No users match your search.</li>
                {% endif %}

            </div>
        </div>
    </div>


{% endblock %}
