{% extends 'yarntail/base.html' %}

{% block body_block %}
<head>
<script src="/static/js/script.js"></script>
<style>
td {
	padding: 0px;
	border: 1px solid #d3d3d3;
	min-width: 24px;
	max-width: 24px;
	width: 24px;
	height: 24px;
	text-align: center;
	white-space: nowrap;
	border-collapse: collapse;
    }

tr {
	border: 1px solid #d3d3d3;
	border-collapse: collapse;
    }

.flexy {
	display: block;
	height: 400px;
	width: 1000px;
	overflow: auto;
	border-collapse: collapse;
	table-layout: fixed;
    }

.standard {
	border: 1px solid #d3d3d3;
    }

</style>
</head>
<div class="page-header">
    <h1>{{pattern.title}} <a href="{{ u.user_profile.get_absolute_url }}"> <i style="font-size:80%">@{{ u.username }}</i></a></h1>

    <div> <br/>
        <h4>Description</h4>
        <p>{{ pattern.description }}</p>
        <br/>

    </div>

	<div class="row">
	    <div class="col-md-6">
	        <table id="pattern_grid" class="flexy"></table>
	    </div>
	</div>


</div>


{% if user.is_authenticated %}

    {% if user == u %}
      <a href="{% url 'edit_pattern' u.user_profile pattern.slug %}"  >Edit Pattern</a>
    {% endif %}

<div>
    {% if user.is_authenticated %}
    <form id="comment_form" method="post" action=".">

        {% csrf_token %}
        <div class="col-lg-6">
            <div class="input-group">
                <input class="form-control" id="id_comment" maxlength="20000" name="comment_string" type="text"
                       placeholder="Enter comment"/>
      <span class="input-group-btn">
        <button class="btn btn-default" type="submit" name="submit"> Share</button>
          <br/>
      </span>
            </div>
        </div>
    </form>

</div>
    {% endif %}

<br/><br/><h2>Comments</h2>

<div>
    <ul>
        {% for comments in comment %}
        <p>
            <strong>{{ comments.comment_string }}</strong><br/>
            <i>@{{ comments.user }} on {{ comments.creation_date }}</i>

        <p/>

        {% endfor %}

    </ul>
</div>
{% endif%}

<script>		
convert_string("{{ pattern.design }}");
</script>

{% endblock %}

